# 【kaleidoscope_bar:sofa】沙发
data modify storage dc:index input.kaleidoscope_bar:sofa set value {\
    modsize:[1f,1f,1f],\
    type:"fixed",\
    loot_table:"kaleidoscope:bar/sofa/fixed",\
    template:"kaleidoscope_block_90",\
    item:{\
        components:{"minecraft:item_model":"kaleidoscope_bar:sofa"}\
    },\
    events:{\
        "construct":[\
            {event:"sound",args:{sound:"minecraft:block.wool.place"}},\
            {event:"custom",args:{func:"kaleidoscope:bar/events/sofa/construct"}},\
            {event:"custom",args:{func:"kaleidoscope:bar/events/sofa/connect"}},\
            {event:"broadcast"}\
        ],\
        destruct:[\
            {event:"broadcast"}\
        ],\
        update:[\
            {event:"custom",args:{func:"kaleidoscope:bar/events/sofa/connect"}}\
        ],\
        left_click:{\
            criteria:[\
                {\
                    event:"__nothing__",\
                    item:{components:{"minecraft:custom_data":{kaleidoscope:"trans"}}}\
                },\
            ],\
            fallback:{"event":"group",args:{events:[\
                {event:"destruct",args:{item:{mode:"inherit",func:"kaleidoscope:bar/events/sofa/destruct"},particle:"self",sound:"minecraft:block.wool.break"}}\
            ]}}\
        },\
        right_click:{\
            "criteria":[\
                {\
                    event:"group",\
                    "args":{events:[{event:"custom",args:{func:"kaleidoscope:bar/events/sofa/mode_switch"}},{event:"custom",args:{func:"kaleidoscope:events/wand"}}]},\
                    item:{components:{"minecraft:custom_data":{kaleidoscope:"trans"}}}\
                },\
                {event:"custom",args:{func:"kaleidoscope:bar/events/sofa/dyes"},item:{id:"#kaleidoscope:dyes"}},\
                {event:"custom",args:{func:"kaleidoscope:bar/events/sofa/dye_clear"},item:{id:"water_bucket"}}\
            ],\
            fallback:{event:"sit"}\
        }\
    }\
}
data modify storage dc:index keylist append value "kaleidoscope_bar:sofa"

# 【kaleidoscope_bar:sofa_cozy】懒人沙发
data modify storage dc:index input.kaleidoscope_bar:sofa_cozy set value {\
    modsize:[1f,1f,1f],\
    type:"hitbox",\
    extra_data:{width:0.8f,offset:-0.4f},\
    loot_table:"kaleidoscope:bar/sofa/cozy",\
    template:"kaleidoscope",\
    item:{\
        components:{"minecraft:item_model":"kaleidoscope_bar:sofa"}\
    },\
    prop:{orient:"8"},\
    events:{\
        "construct":[\
            {event:"sound",args:{sound:"minecraft:block.wool.place"}},\
            {event:"custom",args:{func:"kaleidoscope:bar/events/sofa/construct"}}\
        ],\
        left_click:{\
            criteria:[\
                {\
                    event:"__nothing__",\
                    item:{components:{"minecraft:custom_data":{kaleidoscope:"trans"}}}\
                },\
            ],\
            fallback:{"event":"group",args:{events:[\
                {event:"destruct",args:{item:{mode:"inherit",func:"kaleidoscope:bar/events/sofa/destruct"},particle:"self",sound:"minecraft:block.wool.break"}}\
            ]}}\
        },\
        right_click:{\
            "criteria":[\
                {\
                    event:"group",\
                    "args":{events:[{event:"custom",args:{func:"kaleidoscope:bar/events/sofa/mode_switch"}},{event:"custom",args:{func:"kaleidoscope:events/wand"}}]},\
                    item:{components:{"minecraft:custom_data":{kaleidoscope:"trans"}}}\
                },\
                {event:"custom",args:{func:"kaleidoscope:bar/events/sofa/dyes"},item:{id:"#kaleidoscope:dyes"}},\
                {event:"custom",args:{func:"kaleidoscope:bar/events/sofa/dye_clear"},item:{id:"water_bucket"}}\
            ],\
            fallback:{event:"sit"}\
        }\
    }\
}
data modify storage dc:index keylist append value "kaleidoscope_bar:sofa_cozy"


# 【kaleidoscope_bar:counter_stool_tall】高脚凳（高）
data modify storage dc:index input.kaleidoscope_bar:counter_stool_tall set value {\
    modsize:[1f,1f,1f],\
    type:"hitbox",\
    interactsize:{height:1.4f,width:0.8f},\
    extra_data:{width:0.8f,offset:0.2f},\
    loot_table:"kaleidoscope:bar/counter_stool",\
    template:"kaleidoscope",\
    item:{\
        components:{"minecraft:item_model":"kaleidoscope_bar:counter_stool"}\
    },\
    events:{\
        "construct":[\
            {event:"sound",args:{sound:"minecraft:block.copper_grate.place"}},\
            {event:"custom",args:{func:"kaleidoscope:bar/events/counter_stool/construct"}}\
        ],\
        left_click:{\
            criteria:[\
                {\
                    event:"__nothing__",\
                    item:{components:{"minecraft:custom_data":{kaleidoscope:"trans"}}}\
                },\
            ],\
            fallback:{"event":"group",args:{events:[\
                {event:"destruct",args:{item:{mode:"inherit",func:"kaleidoscope:bar/events/counter_stool/destruct"},particle:"self",sound:"minecraft:block.copper_grate.break"}}\
            ]}}\
        },\
        right_click:{\
            "criteria":[\
                {\
                    event:"group",\
                    "args":{events:[{"event":"trans",args:{index:"kaleidoscope_bar:counter_stool_short",func:"kaleidoscope:bar/events/counter_stool/switch_to_short/trans"}},{event:"custom",args:{func:"kaleidoscope:events/wand"}}]},\
                    item:{components:{"minecraft:custom_data":{kaleidoscope:"trans"}}}\
                },\
                {event:"custom",args:{func:"kaleidoscope:bar/events/sofa/dyes"},item:{id:"#kaleidoscope:dyes"}},\
                {event:"custom",args:{func:"kaleidoscope:bar/events/sofa/dye_clear"},item:{id:"water_bucket"}},\
                {\
                    predicate:"kaleidoscope:bar/counter_stoll_switch",\
                    item:{},\
                    event:"group",\
                    args:{events:[\
                    {"event":"trans",args:{index:"kaleidoscope_bar:counter_stool_short",func:"kaleidoscope:bar/events/counter_stool/switch_to_short/trans"}},\
                    {event:"sit",args:{offset:{x:0f,y:0.5f,z:0f}}}\
                    ]}\
                }\
            ],\
            fallback:{event:"sit",args:{offset:{x:0f,y:1f,z:0f}}}\
        }\
    }\
}
data modify storage dc:index keylist append value "kaleidoscope_bar:counter_stool_tall"

# 【kaleidoscope_bar:counter_stool_short】高脚凳（矮）
data modify storage dc:index input.kaleidoscope_bar:counter_stool_short set value {\
    modsize:[1f,1f,1f],\
    type:"hitbox",\
    interactsize:{height:1f,width:0.8f},\
    extra_data:{width:0.6f,offset:0f},\
    loot_table:"kaleidoscope:bar/counter_stool",\
    template:"kaleidoscope",\
    item:{\
        components:{"minecraft:item_model":"kaleidoscope_bar:counter_stool"}\
    },\
    events:{\
        "construct":[\
            {event:"sound",args:{sound:"minecraft:block.copper_grate.place"}},\
            {event:"custom",args:{func:"kaleidoscope:bar/events/counter_stool/construct"}}\
        ],\
        left_click:{\
            criteria:[\
                {\
                    event:"__nothing__",\
                    item:{components:{"minecraft:custom_data":{kaleidoscope:"trans"}}}\
                },\
            ],\
            fallback:{"event":"group",args:{events:[\
                {event:"destruct",args:{item:{mode:"inherit",func:"kaleidoscope:bar/events/counter_stool/destruct"},particle:"self",sound:"minecraft:block.copper_grate.break"}}\
            ]}}\
        },\
        right_click:{\
            "criteria":[\
                {\
                    event:"group",\
                    "args":{events:[{"event":"trans",args:{index:"kaleidoscope_bar:counter_stool_tall",func:"kaleidoscope:bar/events/counter_stool/switch_to_tall/trans"}},{event:"custom",args:{func:"kaleidoscope:events/wand"}}]},\
                    item:{components:{"minecraft:custom_data":{kaleidoscope:"trans"}}}\
                },\
                {event:"custom",args:{func:"kaleidoscope:bar/events/sofa/dyes"},item:{id:"#kaleidoscope:dyes"}},\
                {event:"custom",args:{func:"kaleidoscope:bar/events/sofa/dye_clear"},item:{id:"water_bucket"}},\
                {\
                    predicate:"kaleidoscope:bar/counter_stoll_switch",\
                    item:{},\
                    event:"group",\
                    args:{events:[\
                    {"event":"trans",args:{index:"kaleidoscope_bar:counter_stool_tall",func:"kaleidoscope:bar/events/counter_stool/switch_to_tall/trans"}},\
                    {event:"sit",args:{offset:{x:0f,y:1f,z:0f}}}\
                    ]}\
                }\
            ],\
            fallback:{event:"sit",args:{offset:{x:0f,y:0.5f,z:0f}}}\
        }\
    }\
}
data modify storage dc:index keylist append value "kaleidoscope_bar:counter_stool_short"